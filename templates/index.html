{% extends 'base.html' %}

{% block content %}
  <h1>All Posts</h1>
  <a href="{{ url_for('create') }}">Create New Post</a>
  {% for post in posts %}
    <div class="post">
      <h2><a href="{{ url_for('post', id=post['id']) }}">{{ post['title'] }}</a></h2>
      <p>{{ post['content'][:200] }}...</p>
      <small>Created: {{ post['created'] }}</small><br>
      <a href="{{ url_for('edit', id=post['id']) }}">Edit</a>
      <form action="{{ url_for('delete', id=post['id']) }}" method="post" style="display:inline;">
          <button type="submit">Delete</button>
      </form>
    </div>
  {% endfor %}
{% endblock %}